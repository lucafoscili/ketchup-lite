:host {
  /**
 * @prop --kul-tree-backdrop-filter: Sets the backdrop filter of the tree.
 * Defaults to blur(3.5px).
 */
  --kul_tree_backdrop_filter: var(--kul-tree-backdrop-filter, blur(3.5px));
  /**
 * @prop --kul-tree-node-background-color-hover: Sets the background color when hovering a node.
 * Defaults to rgba(var(--kul-primary-color-rgb), 0.175).
 */
  --kul_tree_node_background_color_hover: var(
    --kul-tree-node-background-color-hover,
    rgba(var(--kul-primary-color-rgb), 0.175)
  );
  /**
 * @prop --kul-tree-node-background-color-selected: Sets the background color of the selected node.
 * Defaults to rgba(var(--kul-primary-color-rgb), 0.375).
 */
  --kul_tree_node_background_color_selected: var(
    --kul-tree-node-background-color-selected,
    rgba(var(--kul-primary-color-rgb), 0.375)
  );
  /**
 * @prop --kul-tree-node-padding: Sets the padding of nodes.
 * Defaults to 0 1em.
 */
  --kul_tree_node_padding: var(--kul-tree-node-padding, 0 1em);
  /**
 * @prop --kul-tree-padding: Sets the padding of the tree.
 * Defaults to 0.
 */
  --kul_tree_padding: var(--kul-tree-padding, 0);

  display: block;
  height: 100%;
  width: 100%;
}

:host([kul-selectable]) {
  .node {
    &:hover:not(.node--selected) {
      background-color: var(--kul_tree_node_background_color_hover);
    }

    &--selected {
      background-color: var(--kul_tree_node_background_color_selected);
    }
  }
}

.tree {
  backdrop-filter: var(--kul_tree_backdrop_filter);
  padding: var(--kul_tree_padding);
}

.node {
  box-sizing: border-box;
  height: 2em;
  padding: var(--kul_tree_node_padding);
  position: relative;
  transition: background-color 125ms ease;

  &__content {
    align-items: center;
    display: flex;
    height: 100%;
  }

  &__expand,
  &__icon {
    cursor: pointer;
    margin: 0;
    transition: background-color 125ms ease;

    &--placeholder {
      height: 1.5em;
      width: 1.5em;
    }
  }

  &__expand {
    background-color: var(--kul-text-color);
    height: 1.5em;
    -webkit-mask: var(--kul-collapsed-icon);
    mask: var(--kul-collapsed-icon);
    overflow: hidden;
    transition: transform 125ms ease;
    width: 1.5em;

    &:hover {
      transform: scale(1.25);
    }

    &--expanded {
      -webkit-mask: var(--kul-expanded-icon);
      mask: var(--kul-expanded-icon);
    }
  }

  &__padding {
    height: 100%;
    width: calc(1.75em * var(--kul_tree_padding_multiplier));
  }

  &__value {
    margin: 0 0 0 0.5em;
  }
}
